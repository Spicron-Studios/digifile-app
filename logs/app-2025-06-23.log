Logger initialized
[2025-06-23 21:20:24.100] (INFO) - api/files/route.ts - GET /api/files endpoint called
[2025-06-23 21:20:24.102] (INFO) - api/files/route.ts - Fetching files for organization ID: d290f1ee-6c54-4b01-90e6-d701748f0851
[2025-06-23 21:20:25.482] (INFO) - api/files/route.ts - Raw query result count: 3
[2025-06-23 21:20:25.483] (DEBUG) - api/files/route.ts - Files with patients: 3
[2025-06-23 21:20:25.483] (DEBUG) - api/files/route.ts - Files without patients: 0
[2025-06-23 21:20:25.483] (DEBUG) - api/files/route.ts - Sample file_info record: {"uid":"be5097a3-000b-4d05-8e2d-bf7ea007205c","file_number":"F20258116","account_number":"A688165","has_patient_relations":true}
[2025-06-23 21:20:25.484] (INFO) - api/files/route.ts - Transformed response count: 3
[2025-06-23 21:20:25.484] (DEBUG) - api/files/route.ts - Files with patient info: 3
[2025-06-23 21:20:25.484] (DEBUG) - api/files/route.ts - Files without patient info: 0
[2025-06-23 21:20:25.484] (DEBUG) - api/files/route.ts - Sample transformed record: {"uid":"be5097a3-000b-4d05-8e2d-bf7ea007205c","file_number":"F20258116","account_number":"A688165","patient":{"id":"9806255092083","name":"Jan Hendrik de Jager","gender":"male"}}
[2025-06-23 21:20:30.174] (INFO) - api/files/[uid]/db_read.ts - Getting file data for UID: be5097a3-000b-4d05-8e2d-bf7ea007205c
[2025-06-23 21:20:30.630] (DEBUG) - api/files/[uid]/db_read.ts - üè• API: Fetched 2 medical schemes
[2025-06-23 21:20:30.631] (INFO) - api/files/[uid]/db_read.ts - üè¢ API: Fetching file with UID: be5097a3-000b-4d05-8e2d-bf7ea007205c
[2025-06-23 21:20:33.372] (DEBUG) - api/files/[uid]/db_read.ts - üìù API: Fetched 0 file notes and 0 clinical notes
[2025-06-23 21:20:33.373] (INFO) - api/files/[uid]/db_read.ts - ‚úÖ API: File data retrieved successfully
[2025-06-23 21:20:33.373] (DEBUG) - api/files/[uid]/db_read.ts - {
  "uid": "be5097a3-000b-4d05-8e2d-bf7ea007205c",
  "file_number": "F20258116",
  "account_number": "A688165",
  "patient": {
    "id": "9806255092083",
    "title": "Mr",
    "name": "Jan Hendrik de Jager",
    "initials": "Jan Hendrik",
    "surname": "de Jager",
    "dob": "1998/06/22",
    "gender": "male",
    "cell_phone": "0739609003",
    "additional_name": "Persoon",
    "additional_cell": "0987651234",
    "email": "jandejager003@gmail.com",
    "address": "281 Kruger Ave"
  },
  "medical_cover": {
    "type": "private",
    "same_as_patient": false,
    "member": {
      "id": "",
      "name": "",
      "initials": "",
      "surname": "",
      "dob": "",
      "cell": "",
      "email": "",
      "address": ""
    },
    "medical_aid": {
      "scheme_id": "",
      "name": "",
      "membership_number": "",
      "dependent_code": ""
    },
    "injury_on_duty": {
      "company_name": "",
      "contact_person": "",
      "contact_number": "",
      "contact_email": ""
    }
  },
  "notes": {
    "file_notes": [],
    "clinical_notes": []
  },
  "medical_schemes": [
    {
      "uid": "8f58a215-d564-49c0-95b2-40e0c9ecf815",
      "scheme_name": "Discovery"
    },
    {
      "uid": "3e5e55cf-4ef3-4a08-be9d-51316a63ad25",
      "scheme_name": "Momentum"
    }
  ]
}
[2025-06-23 21:20:33.491] (INFO) - api/files/[uid]/db_read.ts - Getting file data for UID: be5097a3-000b-4d05-8e2d-bf7ea007205c
[2025-06-23 21:20:33.718] (DEBUG) - api/files/[uid]/db_read.ts - üè• API: Fetched 2 medical schemes
[2025-06-23 21:20:33.719] (INFO) - api/files/[uid]/db_read.ts - üè¢ API: Fetching file with UID: be5097a3-000b-4d05-8e2d-bf7ea007205c
[2025-06-23 21:20:35.051] (DEBUG) - api/files/[uid]/db_read.ts - üìù API: Fetched 0 file notes and 0 clinical notes
[2025-06-23 21:20:35.052] (INFO) - api/files/[uid]/db_read.ts - ‚úÖ API: File data retrieved successfully
[2025-06-23 21:20:35.052] (DEBUG) - api/files/[uid]/db_read.ts - {
  "uid": "be5097a3-000b-4d05-8e2d-bf7ea007205c",
  "file_number": "F20258116",
  "account_number": "A688165",
  "patient": {
    "id": "9806255092083",
    "title": "Mr",
    "name": "Jan Hendrik de Jager",
    "initials": "Jan Hendrik",
    "surname": "de Jager",
    "dob": "1998/06/22",
    "gender": "male",
    "cell_phone": "0739609003",
    "additional_name": "Persoon",
    "additional_cell": "0987651234",
    "email": "jandejager003@gmail.com",
    "address": "281 Kruger Ave"
  },
  "medical_cover": {
    "type": "private",
    "same_as_patient": false,
    "member": {
      "id": "",
      "name": "",
      "initials": "",
      "surname": "",
      "dob": "",
      "cell": "",
      "email": "",
      "address": ""
    },
    "medical_aid": {
      "scheme_id": "",
      "name": "",
      "membership_number": "",
      "dependent_code": ""
    },
    "injury_on_duty": {
      "company_name": "",
      "contact_person": "",
      "contact_number": "",
      "contact_email": ""
    }
  },
  "notes": {
    "file_notes": [],
    "clinical_notes": []
  },
  "medical_schemes": [
    {
      "uid": "8f58a215-d564-49c0-95b2-40e0c9ecf815",
      "scheme_name": "Discovery"
    },
    {
      "uid": "3e5e55cf-4ef3-4a08-be9d-51316a63ad25",
      "scheme_name": "Momentum"
    }
  ]
}
[2025-06-23 21:20:51.991] (DEBUG) - api/files/notes/route.ts - Creating note with fileInfoPatientId: 
[2025-06-23 21:20:52.442] (ERROR) - api/files/notes/route.ts - Error creating note: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$app$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].tab_notes.create()` invocation in
/Users/janscodingapple/Projects/Personal/digifile-app/.next/server/chunks/[root of the server]__e57823b0._.js:345:171

  342 // Create a new note in the database
  343 const noteUid = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$uuid$2f$dist$2f$esm$2f$v4$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$export__default__as__v4$3e$__["v4"])();
  344 await logger.debug('api/files/notes/route.ts', `Creating note with fileInfoPatientId: ${data.fileInfoPatientId}`);
‚Üí 345 const newNote = await __TURBOPACK__imported__module__$5b$project$5d2f$app$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"].tab_notes.create(
Inconsistent column data: Error creating UUID, invalid length: expected length 32 for simple format, found 0
[2025-06-23 21:21:08.460] (INFO) - api/calendar/route.ts - Calendar API request received
[2025-06-23 21:21:08.461] (DEBUG) - api/calendar/route.ts - Database connection successful
[2025-06-23 21:21:09.258] (DEBUG) - api/calendar/route.ts - Found 4 active users
[2025-06-23 21:21:09.721] (DEBUG) - api/calendar/route.ts - Found 15 calendar entries
[2025-06-23 21:21:09.722] (INFO) - api/calendar/route.ts - Calendar data successfully retrieved
